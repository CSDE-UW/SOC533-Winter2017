Author: Lee Fiorio
Date: March 7, 2017
email: fiorio@uw.edu

The purpose of this tool is somewhat esoteric. It was created as a small step in a larger project to develop techniques for estimating migration rates from individual-level geo-referenced social media data (e.g. Twitter data). Using only three parameters, this tool attempts to simulate individual-level geo-data such that migration statistics calculated from these data behave in a way the conforms to certain expectation. Analysis of data simulated by this tools is a proof-of-concept that the migration behavior in large-scale social media data can be reduced to a small number of parameters...

The code consists of four functions

mode

This function calculates the mode of a vector. If the vector is of even length and there is a tie, it award the value to the most frequently observed value that was first observed.

make.world

This function produces the simulated data: a matrix with 1000 rows and 500 columns. Each row represents an individual and each column represents a discrete moment in time. Each cell can take a value of 1 or 0 signifying whether an individual was at location 1 or location 0 at a particular time.

The function takes three values: home (home probability), away (away probability), and permanent.stay. The values for each row are generated in sequentially. If an individual is 'home' at time t-1, then they have a probability of *home* to be 'home' at time t. If an individual is 'away' at time t-1, then they have a probability of *away* to be 'away' at time t. If an individual has been 'away' for the number of consecutive times represented by *permanent.stay*, then value of home (either one or zero) becomes the value of away, and the value of away (the opposite of home) becomes home.

make.mig.mat

This function takes the matrix generated by make.world and uses it to create a matrix of migration flags based on a series of duration and interval values. It returns a matrix where the first row is the value of interval, the second row is the value of the duration and the remaining rows are individuals. Each cell is a one or a zero depending on whether the individual was deemed to have migrated using the duration-interval definition represented by the column.

make.contour.dur_by_int

This funciton takes the matrix generated by make.mig.mat and uses it to plot a contour plot with duration on the x axis and interval on the y axis.
